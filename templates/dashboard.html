{% extends "base.html" %}

{% block content %}
  <form method="POST" class="d-flex justify-content-center my-4">
    <input
      type="text"
      name="city"
      class="form-control me-2"
      placeholder="Enter city name"
      required
      style="max-width: 300px;"
    />
    <button type="submit" class="btn btn-primary">Get Weather</button>
  </form>

  {% if weather %}
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6 weather-box text-center">
        <h2>{{ weather.city }}, {{ weather.country }}</h2>
        <img
          src="https://openweathermap.org/img/wn/{{ weather.icon }}@2x.png"
          alt="{{ weather.description }}"
        />
        <h3>{{ weather.temp }}°C</h3>
        <p class="mb-1">{{ weather.description }}</p>
        <small>
          Feels like {{ weather.feels_like }}°C ·
          Humidity {{ weather.humidity }}% ·
          Wind {{ weather.wind_speed }} m/s ·
          Pressure {{ weather.pressure }} hPa
        </small>
      </div>
    </div>
  {% endif %}

  {% if forecast %}
    <div class="row justify-content-center mt-4 forecast-row">
      {% for day in forecast %}
        <div class="col-2 forecast-card text-center">
          <p class="mb-1">{{ day.date }}</p>
          <img
            src="https://openweathermap.org/img/wn/{{ day.icon }}.png"
            alt="{{ day.desc }}"
          />
          <p class="mb-1">{{ day.min }}° / {{ day.max }}°</p>
          <small>{{ day.desc }}</small>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
